@import "tailwindcss";

@theme {
  /* === INDECISIVE DESIGN TOKENS === */
  
  /* Colors - Direct values for v4 */
  --color-gray-0: hsl(0 0% 100%);
  --color-gray-50: hsl(0 0% 98%);
  --color-gray-100: hsl(0 0% 96%);
  --color-gray-200: hsl(0 0% 90%);
  --color-gray-300: hsl(0 0% 83%);
  --color-gray-400: hsl(0 0% 64%);
  --color-gray-500: hsl(0 0% 45%);
  --color-gray-600: hsl(0 0% 32%);
  --color-gray-700: hsl(0 0% 21%);
  --color-gray-800: hsl(0 0% 13%);
  --color-gray-900: hsl(0 0% 6%);
  --color-gray-950: hsl(0 0% 2%);
  
  /* Semantic Colors */
  --color-background: var(--color-gray-0);
  --color-foreground: var(--color-gray-950);
  --color-card: var(--color-gray-0);
  --color-card-foreground: var(--color-gray-950);
  --color-popover: var(--color-gray-0);
  --color-popover-foreground: var(--color-gray-950);
  --color-primary: var(--color-gray-950);
  --color-primary-foreground: var(--color-gray-0);
  --color-secondary: var(--color-gray-100);
  --color-secondary-foreground: var(--color-gray-950);
  --color-muted: var(--color-gray-100);
  --color-muted-foreground: var(--color-gray-600);
  --color-accent: var(--color-gray-100);
  --color-accent-foreground: var(--color-gray-950);
  --color-destructive: hsl(0 84.2% 60.2%);
  --color-destructive-foreground: var(--color-gray-0);
  --color-border: var(--color-gray-200);
  --color-input: var(--color-gray-200);
  --color-ring: var(--color-gray-950);
  
  /* Refined Border System */
  --color-border-subtle: var(--color-gray-100);
  --color-border-default: var(--color-gray-200);
  --color-border-hover: var(--color-gray-400);
  --color-border-focus: var(--color-gray-950);
  
  /* Typography - Next.js fonts provide font variables */
  --font-family-sans: var(--font-noto), var(--font-source), var(--font-roboto), system-ui, -apple-system, sans-serif;
  --font-family-mono: var(--font-mono), 'JetBrains Mono', 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
  
  /* Bulgarian-specific typography settings */
  --font-feature-settings-bulgarian: "loclBGR" 1, "kern" 1, "liga" 1;
  --font-feature-settings-default: "kern" 1, "liga" 1;
  
  /* Radius */
  --radius-sm: 0;
  --radius-md: 0;
  --radius-lg: 0;
  --radius-full: 9999px;
  
  /* Button Sizes - Ensuring 44px minimum touch targets */
  --height-button-sm: 2.25rem; /* 36px */
  --height-button-md: 2.5rem;  /* 40px */
  --height-button-lg: 3rem;    /* 48px */
  --height-button-touch: 2.75rem; /* 44px - Minimum WCAG touch target */
  --width-button-touch: 2.75rem; /* 44px - Minimum WCAG touch target */
  
  /* Touch Target Sizes */
  --min-width-touch-target: 2.75rem; /* 44px minimum */
  
  /* Interactive States */
  --color-interactive-primary: var(--color-gray-950);
  --color-interactive-primary-hover: var(--color-gray-800);
  --color-interactive-primary-active: var(--color-gray-900);
  --color-interactive-primary-disabled: var(--color-gray-400);
  
  /* Text Colors */
  --color-text-primary: var(--color-gray-950);
  --color-text-secondary: var(--color-gray-600);
  --color-text-inverse: var(--color-gray-0);
  
  /* Border Colors */
  --color-border-strong: var(--color-gray-300);
  
  /* Sale/Special Colors */
  --color-sale-price: hsl(0 84.2% 60.2%);
  --color-wishlist: hsl(0 84.2% 60.2%);
  
  /* Shadows - Refined for minimal aesthetic */
  --shadow-subtle: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-card: 0 1px 3px 0 rgb(0 0 0 / 0.04), 0 1px 2px -1px rgb(0 0 0 / 0.04);
  --shadow-card-hover: 0 4px 6px -1px rgb(0 0 0 / 0.08), 0 2px 4px -2px rgb(0 0 0 / 0.05);
  --shadow-medium: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-strong: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-dropdown: 0 10px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  
  /* Animation Durations */
  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
  
  /* Modern Button Elevation System */
  --elevation-0: none;
  --elevation-1: 0 2px 4px rgb(0 0 0 / 0.08);
  --elevation-2: 0 4px 8px rgb(0 0 0 / 0.12);
  --elevation-3: 0 8px 16px rgb(0 0 0 / 0.16);
  --elevation-hover: 0 4px 12px rgb(0 0 0 / 0.15);
  
  /* Button Color System */
  --button-primary-bg: var(--color-gray-950);
  --button-primary-hover: var(--color-gray-800);
  --button-secondary-bg: var(--color-gray-0);
  --button-secondary-hover: var(--color-gray-50);
  --button-danger-bg: hsl(0 84.2% 60.2%);
  --button-danger-hover: hsl(0 84.2% 50.2%);
  --button-accent-gradient: linear-gradient(135deg, var(--color-gray-950) 0%, var(--color-gray-800) 100%);
  
}

/* CSS Custom Properties for Safe Area */
:root {
  /* Safe area insets for devices with notches/rounded corners */
  --safe-area-inset-top: env(safe-area-inset-top);
  --safe-area-inset-right: env(safe-area-inset-right);
  --safe-area-inset-bottom: env(safe-area-inset-bottom);
  --safe-area-inset-left: env(safe-area-inset-left);
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    /* Prevent iOS Safari bounce scrolling */
    overscroll-behavior-y: contain;
    /* Ensure proper text rendering on mobile */
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-family-sans);
    font-feature-settings: var(--font-feature-settings-default);
    /* Prevent iOS Safari bounce scrolling */
    overscroll-behavior-y: contain;
    /* Disable blue highlight on tap in WebKit */
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Bulgarian locale specific styling */
  html[lang="bg"] body {
    font-feature-settings: var(--font-feature-settings-bulgarian);
    /* Optimize for Bulgarian Cyrillic readability */
    font-variant-ligatures: common-ligatures;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-family-mono);
    @apply tracking-tight;
  }
  
  /* Bulgarian headings use sans font for better readability */
  html[lang="bg"] h1, 
  html[lang="bg"] h2, 
  html[lang="bg"] h3, 
  html[lang="bg"] h4, 
  html[lang="bg"] h5, 
  html[lang="bg"] h6 {
    font-family: var(--font-family-sans);
    font-weight: 600;
    @apply tracking-normal;
  }
}

/* Mobile Safe Area & Viewport Utilities */
@layer utilities {
  /* Safe Area Utilities */
  .pt-safe {
    padding-top: var(--safe-area-inset-top);
  }
  
  .pb-safe {
    padding-bottom: var(--safe-area-inset-bottom);
  }
  
  .pl-safe {
    padding-left: var(--safe-area-inset-left);
  }
  
  .pr-safe {
    padding-right: var(--safe-area-inset-right);
  }
  
  .p-safe {
    padding-top: var(--safe-area-inset-top);
    padding-right: var(--safe-area-inset-right);
    padding-bottom: var(--safe-area-inset-bottom);
    padding-left: var(--safe-area-inset-left);
  }
  
  /* Dynamic Viewport Height Utilities */
  .h-screen-dynamic {
    height: 100dvh;
    height: 100vh; /* fallback */
  }
  
  .min-h-screen-dynamic {
    min-height: 100dvh;
    min-height: 100vh; /* fallback */
  }
  
  .max-h-screen-dynamic {
    max-height: 100dvh;
    max-height: 100vh; /* fallback */
  }
  
  /* Mobile-Optimized Fixed Positioning */
  .fixed-mobile-safe {
    position: fixed;
    top: var(--safe-area-inset-top);
    left: var(--safe-area-inset-left);
    right: var(--safe-area-inset-right);
  }
  
  .fixed-bottom-mobile-safe {
    position: fixed;
    bottom: var(--safe-area-inset-bottom);
    left: var(--safe-area-inset-left);
    right: var(--safe-area-inset-right);
  }
  
  /* Essential mobile utilities */
  .touch-optimized {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }
  
  .overscroll-contain {
    overscroll-behavior-y: contain;
  }
}

/* Typography Classes */
@layer utilities {
  .text-price {
    font-family: var(--font-family-mono);
    font-weight: 700;
    letter-spacing: -0.02em;
    @apply text-base md:text-lg;
  }
  
  .text-product-name {
    font-family: var(--font-family-sans);
    @apply text-sm md:text-base font-medium leading-snug;
  }
  
  .text-product-brand {
    font-family: var(--font-family-sans);
    @apply text-xs uppercase tracking-wider text-muted-foreground;
  }
  
  /* Bulgarian-specific typography utilities */
  html[lang="bg"] .text-price {
    font-family: var(--font-family-sans);
    font-weight: 700;
    letter-spacing: normal;
  }
  
  html[lang="bg"] .text-product-name {
    font-weight: 500;
    letter-spacing: normal;
    line-height: 1.4;
  }
  
  html[lang="bg"] .text-product-brand {
    letter-spacing: 0.05em;
    font-weight: 500;
  }
  
  /* Modern Button Styles */
  .btn-modern {
    box-shadow: var(--elevation-1);
    border: none;
    transition: all var(--duration-normal) ease;
  }
  
  .btn-modern:hover {
    box-shadow: var(--elevation-hover);
    transform: translateY(-2px);
  }
  
  .btn-modern:active {
    box-shadow: var(--elevation-2);
    transform: translateY(-1px);
  }
  
  
}

/* Sharp Design System */
.button-group-vertical button:not(:first-child) {
  border-top-width: 0;
}

.button-group-horizontal button:not(:first-child) {
  border-left-width: 0;
}

/* Custom animations */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes slide-in-from-bottom {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

@keyframes slide-out-to-bottom {
  from { transform: translateY(0); }
  to { transform: translateY(100%); }
}

/* Marquee animations */
@keyframes marquee {
  0% { transform: translateX(0%); }
  100% { transform: translateX(-100%); }
}

@keyframes marquee-reverse {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(0%); }
}

/* Marquee animation classes */
.animate-marquee {
  animation: marquee 20s linear infinite;
}

.animate-marquee-slow {
  animation: marquee 30s linear infinite;
}

.animate-marquee-fast {
  animation: marquee 10s linear infinite;
}

.animate-marquee.reverse {
  animation: marquee-reverse 20s linear infinite;
}

.animate-marquee-slow.reverse {
  animation: marquee-reverse 30s linear infinite;
}

.animate-marquee-fast.reverse {
  animation: marquee-reverse 10s linear infinite;
}

.animate-marquee:hover.hover\:pause,
.animate-marquee-slow:hover.hover\:pause,
.animate-marquee-fast:hover.hover\:pause {
  animation-play-state: paused;
}

/* Dark mode */
.dark {
  --color-background: var(--color-gray-950);
  --color-foreground: var(--color-gray-0);
  --color-card: var(--color-gray-900);
  --color-card-foreground: var(--color-gray-0);
  --color-popover: var(--color-gray-900);
  --color-popover-foreground: var(--color-gray-0);
  --color-primary: var(--color-gray-0);
  --color-primary-foreground: var(--color-gray-950);
  --color-secondary: var(--color-gray-800);
  --color-secondary-foreground: var(--color-gray-0);
  --color-muted: var(--color-gray-800);
  --color-muted-foreground: var(--color-gray-400);
  --color-accent: var(--color-gray-800);
  --color-accent-foreground: var(--color-gray-0);
  --color-destructive: hsl(0 62.8% 30.6%);
  --color-destructive-foreground: var(--color-gray-0);
  --color-border: var(--color-gray-800);
  --color-input: var(--color-gray-800);
  --color-ring: var(--color-gray-0);
  
  /* Dark mode interactive states */
  --color-interactive-primary: var(--color-gray-0);
  --color-interactive-primary-hover: var(--color-gray-200);
  --color-interactive-primary-active: var(--color-gray-100);
  --color-interactive-primary-disabled: var(--color-gray-600);
  
  /* Dark mode text colors */
  --color-text-primary: var(--color-gray-0);
  --color-text-secondary: var(--color-gray-400);
  --color-text-inverse: var(--color-gray-950);
  
  /* Dark mode border colors */
  --color-border-strong: var(--color-gray-700);
}

/* Hero section - Fixed height to prevent layout shifts */
.hero-section {
  /* Use dynamic viewport height for better mobile support */
  height: calc(100dvh - 104px);
  /* Fallback for browsers that don't support dvh */
  height: calc(100vh - 104px);
  min-height: 500px;
  /* Prevent iOS pull-to-refresh and bounce */
  overscroll-behavior-y: contain;
  -webkit-overflow-scrolling: touch;
  /* Prevent zoom on double tap */
  touch-action: manipulation;
  /* GPU acceleration for smooth scrolling */
  transform: translateZ(0);
  backface-visibility: hidden;
  /* Prevent reflow on scroll */
  contain: layout style paint;
  /* Force hardware acceleration */
  will-change: auto;
}

/* Mobile-specific height adjustment */
@media (max-width: 640px) {
  .hero-section {
    /* Use dynamic viewport height for mobile */
    height: calc(100dvh - 120px);
    /* Fallback for older browsers */
    height: calc(100vh - 120px); 
    min-height: 400px;
    /* Additional mobile optimizations */
    position: relative;
    isolation: isolate;
  }
}

/* Essential mobile scroll fixes only */
@media (max-width: 768px) {
  html {
    /* Smooth scrolling on mobile */
    -webkit-overflow-scrolling: touch;
  }
}